{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function (cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function () {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(),\n          range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line);\n      range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {\n          className: \"CodeMirror-matchingtag\"\n        });\n      }\n\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other) cm.state.tagOther = cm.markText(other.from, other.to, {\n        className: \"CodeMirror-matchingtag\"\n      });else cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function (cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});","map":{"version":3,"sources":["/Users/ashishsolanki/Documents/GitHub/editor.io/node_modules/codemirror/addon/edit/matchtags.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","off","doMatchTags","maybeUpdateMatch","clear","state","matchBothTags","bothTags","on","tagHit","tagOther","failedTagMatch","operation","somethingSelected","cur","getCursor","range","getViewport","from","Math","min","line","to","max","match","findMatchingTag","hit","at","open","close","markText","className","other","commands","toMatchingTag","found","extendSelection"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../fold/xml-fold\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../fold/xml-fold\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"matchTags\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchTags);\n      cm.off(\"viewportChange\", maybeUpdateMatch);\n      clear(cm);\n    }\n    if (val) {\n      cm.state.matchBothTags = typeof val == \"object\" && val.bothTags;\n      cm.on(\"cursorActivity\", doMatchTags);\n      cm.on(\"viewportChange\", maybeUpdateMatch);\n      doMatchTags(cm);\n    }\n  });\n\n  function clear(cm) {\n    if (cm.state.tagHit) cm.state.tagHit.clear();\n    if (cm.state.tagOther) cm.state.tagOther.clear();\n    cm.state.tagHit = cm.state.tagOther = null;\n  }\n\n  function doMatchTags(cm) {\n    cm.state.failedTagMatch = false;\n    cm.operation(function() {\n      clear(cm);\n      if (cm.somethingSelected()) return;\n      var cur = cm.getCursor(), range = cm.getViewport();\n      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);\n      var match = CodeMirror.findMatchingTag(cm, cur, range);\n      if (!match) return;\n      if (cm.state.matchBothTags) {\n        var hit = match.at == \"open\" ? match.open : match.close;\n        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: \"CodeMirror-matchingtag\"});\n      }\n      var other = match.at == \"close\" ? match.open : match.close;\n      if (other)\n        cm.state.tagOther = cm.markText(other.from, other.to, {className: \"CodeMirror-matchingtag\"});\n      else\n        cm.state.failedTagMatch = true;\n    });\n  }\n\n  function maybeUpdateMatch(cm) {\n    if (cm.state.failedTagMatch) doMatchTags(cm);\n  }\n\n  CodeMirror.commands.toMatchingTag = function(cm) {\n    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());\n    if (found) {\n      var other = found.at == \"close\" ? found.open : found.close;\n      if (other) cm.extendSelection(other.to, other.from);\n    }\n  };\n});\n"]},"metadata":{},"sourceType":"script"}